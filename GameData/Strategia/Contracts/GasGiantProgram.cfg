// Contract for gas giant celestial body programs.
//   Author: nightingale

CONTRACT_TYPE
{
    name = STG_GasGiantProgram
    group = Strategia

    title = Strategia: @strategy
    description = @strategy.description()
    synopsis = @strategy.synopsis()
    completedMessage = @strategy.completedMessage()

    agent = Strategia

    targetBody = @strategy.targetBody()

    autoAccept = true
    cancellable = false

    maxSimultaneous = 1

    prestige = Exceptional

    // Contract rewards
    advanceFunds = @strategy.advanceFunds() / ContractMultiplier()
    rewardFunds = @strategy.rewardFunds() / ContractMultiplier()
    rewardReputation = @strategy.rewardReputation() / ContractMultiplier()
    failureReputation = @strategy.failureReputation() / ContractMultiplier()
    failureFunds = @strategy.failureFunds() / ContractMultiplier()

    DATA
    {
        type = StrategiaStrategy
        requiredValue = true

        strategy = ActiveStrategies().Where(s => s.contractType() == @name).First()
    }

    DATA
    {
        type = List<CelestialBody>
        moons = @targetBody.Children()
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(0)
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(1)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 1
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(2)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 2
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(3)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 3
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(4)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 4
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(5)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 5
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(6)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 6
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(7)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 7
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(8)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 8
        }
    }

    PARAMETER
    {
        type = PlantFlag
        targetBody = @/moons.ElementAt(9)

        REQUIREMENT
        {
            type = Expression
            expression = @/moons.Count() > 9
        }
    }

    PARAMETER
    {
        type = Timer
        duration = @/strategy.duration()
    }
}
